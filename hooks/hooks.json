{
  "hooks": [
    {
      "event": "PreToolUse",
      "matcher": "Write|Edit",
      "config": {
        "type": "prompt",
        "prompt": "Before writing/editing files, verify:\n1. No agent artifacts (TODO.md, PLAN.md, *.task) in repo root - must go to docs/.claude/\n2. No secrets or API keys in content\n3. If creating new file, verify it follows naming conventions (kebab-case)\n\nIf violations found, BLOCK with explanation. Otherwise, ALLOW.",
        "mode": "filter"
      }
    },
    {
      "event": "PreToolUse",
      "matcher": "Bash",
      "config": {
        "type": "prompt",
        "prompt": "Before executing git commit:\n1. Verify commit message follows Conventional Commits format: <type>(<scope>): <description>\n2. Valid types: feat, fix, docs, style, refactor, perf, test, chore, build, ci, revert\n3. Description should be lowercase, no period at end, max 72 chars\n\nIf 'git commit' command doesn't follow format, BLOCK with correct format suggestion. Otherwise, ALLOW.",
        "mode": "filter"
      }
    },
    {
      "event": "PostToolUse",
      "matcher": "Write",
      "config": {
        "type": "prompt",
        "prompt": "After file creation, check if this is a new repository being set up. If so, verify:\n1. README.md exists with required sections (title, badges, description, install, usage, license)\n2. CHANGELOG.md exists with [Unreleased] section\n3. .gitignore exists with docs/.claude/ ignored\n4. LICENSE exists (or is planned)\n5. .gitleaks.toml exists (or is planned)\n\nReport any missing required files as warnings.",
        "mode": "notify"
      }
    },
    {
      "event": "PreToolUse",
      "matcher": "Bash",
      "config": {
        "type": "prompt",
        "prompt": "If this is a 'git commit' command AND staged files include skills/**:\n\n1. Identify which skills have staged changes by parsing paths\n2. For each affected skill, run /test-skill <skill-name>\n3. If ANY scenario fails:\n   - BLOCK the commit\n   - Create TodoWrite items for each failure:\n     - 'Fix skill: <skill> - scenario <name> rationalization: <phrase>'\n   - Display failure summary\n4. If all scenarios pass:\n   - ALLOW the commit\n   - Report: 'Pressure tests passed for: <skills>'\n\nTo check staged files: git diff --cached --name-only | grep '^skills/'\nExtract skill name from path: skills/<skill-name>/...",
        "mode": "filter"
      }
    }
  ]
}
